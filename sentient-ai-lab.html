<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KNWKMT2X');</script>
    <!-- End Google Tag Manager -->
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff">
    <title>NEXUS CONSCIOUSNESS LAB - Quantum AI Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600&family=Outfit:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="elite-theme.css">
    <link rel="stylesheet" href="sentient-ai.css">
    
    <!-- Enhanced Personality & Engagement Styles -->
    <style id="personality-enhancements">
        /* ðŸŒŒ TRANSCENDENT REALITY SYSTEM - BEYOND PHYSICS ðŸŒŒ */
        :root {
            --font-primary: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-display: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-mono: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
            
            /* CONSCIOUSNESS-LEVEL Color Variables */
            --glass-bg-dark: rgba(255, 255, 255, 0.05);
            --glass-bg-light: rgba(0, 0, 0, 0.03);
            --glass-border-dark: rgba(255, 255, 255, 0.1);
            --glass-border-light: rgba(0, 0, 0, 0.08);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            --neon-glow: 0 0 20px rgba(102, 126, 234, 0.3);
            --premium-gradient-dark: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.1) 0%, 
                rgba(139, 92, 246, 0.05) 50%, 
                rgba(59, 130, 246, 0.1) 100%);
            --premium-gradient-light: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.08) 0%, 
                rgba(139, 92, 246, 0.04) 50%, 
                rgba(59, 130, 246, 0.08) 100%);
                
            /* Consciousness variables */
            --glass-bg: var(--glass-bg-dark);
            --glass-border: var(--glass-border-dark);
            --premium-gradient: var(--premium-gradient-dark);
            
            /* TRANSCENDENT Effects */
            --reality-distortion: 0deg;
            --consciousness-level: 1;
            --dimensional-shift: 0px;
        }

        /* Light mode optimizations with enhanced readability */
        [data-theme="light"] {
            --glass-bg: var(--glass-bg-light);
            --glass-border: var(--glass-border-light);
            --premium-gradient: var(--premium-gradient-light);
            
            /* Fix transparency issues in light mode */
            --text-primary: rgba(0, 0, 0, 0.95);
            --text-secondary: rgba(0, 0, 0, 0.8);
            --text-tertiary: rgba(0, 0, 0, 0.7);
        }

        /* Enhanced text readability for all modes */
        .gradient-text {
            /* Force opacity to 1 to prevent transparency issues */
            opacity: 1 !important;
            /* Minimal contrast for clean appearance */
            text-shadow: 
                0 0 5px rgba(107, 114, 128, 0.1),
                0 1px 3px rgba(0, 0, 0, 0.3);
        }

        [data-theme="light"] .gradient-text {
            background: linear-gradient(135deg, 
                #374151 0%,     /* Dark gray */
                #6b7280 25%,    /* Medium gray */
                #9ca3af 50%,    /* Light gray */
                #6b7280 75%,    /* Medium gray */
                #374151 100%);  /* Dark gray */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 
                0 0 8px rgba(55, 65, 81, 0.2),
                0 0 16px rgba(107, 114, 128, 0.15),
                0 0 24px rgba(156, 163, 175, 0.1),
                0 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Fix text visibility on hover/interaction */
        .gradient-text:hover,
        .gradient-text:focus,
        .gradient-text:active {
            opacity: 1 !important;
            -webkit-text-fill-color: transparent !important;
        }

        /* ðŸ§¬ DNA HELIX CONSCIOUSNESS FIELD ðŸ§¬ */
        .consciousness-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -10;
            background: 
                radial-gradient(ellipse at 20% 20%, rgba(156, 163, 175, 0.05) 0%, transparent 40%),
                radial-gradient(ellipse at 80% 20%, rgba(107, 114, 128, 0.04) 0%, transparent 40%),
                radial-gradient(ellipse at 20% 80%, rgba(209, 213, 219, 0.03) 0%, transparent 40%),
                radial-gradient(ellipse at 80% 80%, rgba(75, 85, 99, 0.02) 0%, transparent 40%),
                conic-gradient(from 0deg at 50% 50%, 
                    rgba(156, 163, 175, 0.01) 0deg,
                    rgba(107, 114, 128, 0.01) 72deg,
                    rgba(209, 213, 219, 0.01) 144deg,
                    rgba(75, 85, 99, 0.01) 216deg,
                    rgba(255, 100, 0, 0.02) 288deg,
                    rgba(255, 0, 150, 0.02) 360deg);
            animation: consciousness-evolution 20s ease-in-out infinite;
            filter: blur(0.5px);
        }

        @keyframes consciousness-evolution {
            0% { 
                transform: rotate(0deg) scale(1);
                filter: blur(0.5px) brightness(1);
            }
            25% { 
                transform: rotate(90deg) scale(1.1);
                filter: blur(1px) brightness(1.2);
            }
            50% { 
                transform: rotate(180deg) scale(0.9);
                filter: blur(1.5px) brightness(0.8);
            }
            75% { 
                transform: rotate(270deg) scale(1.05);
                filter: blur(1px) brightness(1.1);
            }
            100% { 
                transform: rotate(360deg) scale(1);
                filter: blur(0.5px) brightness(1);
            }
        }

        /* ðŸŒŠ REALITY DISTORTION WAVES ðŸŒŠ */
        .reality-waves {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -5;
            background: 
                repeating-conic-gradient(from 0deg at 50% 50%,
                    transparent 0deg,
                    rgba(102, 126, 234, 0.03) 1deg,
                    transparent 2deg,
                    rgba(139, 92, 246, 0.02) 3deg,
                    transparent 4deg
                );
            animation: reality-distortion 15s linear infinite;
            mix-blend-mode: screen;
        }

        @keyframes reality-distortion {
            0% { 
                transform: rotate(0deg) scale(1) skew(0deg);
                opacity: 0.3;
            }
            33% { 
                transform: rotate(120deg) scale(1.2) skew(5deg);
                opacity: 0.6;
            }
            66% { 
                transform: rotate(240deg) scale(0.8) skew(-5deg);
                opacity: 0.4;
            }
            100% { 
                transform: rotate(360deg) scale(1) skew(0deg);
                opacity: 0.3;
            }
        }

        /* ðŸ”® DIMENSIONAL PORTAL EFFECTS ðŸ”® */
        .dimensional-portal {
            position: fixed;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                rgba(255, 0, 150, 0.2) 60deg,
                transparent 120deg,
                rgba(0, 255, 255, 0.15) 180deg,
                transparent 240deg,
                rgba(255, 255, 0, 0.1) 300deg,
                transparent 360deg
            );
            filter: blur(2px);
            animation: portal-drift 25s ease-in-out infinite;
            pointer-events: none;
            z-index: -8;
        }

        .portal-1 {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .portal-2 {
            top: 70%;
            right: 15%;
            animation-delay: -8s;
        }

        .portal-3 {
            bottom: 20%;
            left: 60%;
            animation-delay: -16s;
        }

        @keyframes portal-drift {
            0%, 100% { 
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 0.4;
            }
            20% { 
                transform: translate(50px, -30px) rotate(72deg) scale(1.3);
                opacity: 0.7;
            }
            40% { 
                transform: translate(-30px, 50px) rotate(144deg) scale(0.8);
                opacity: 0.5;
            }
            60% { 
                transform: translate(70px, 20px) rotate(216deg) scale(1.1);
                opacity: 0.8;
            }
            80% { 
                transform: translate(-20px, -40px) rotate(288deg) scale(0.9);
                opacity: 0.6;
            }
        }

        /* âš¡ QUANTUM DNA HELIX âš¡ */
        .dna-helix {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -7;
            background-image: 
                linear-gradient(45deg, rgba(255, 0, 150, 0.1) 1px, transparent 1px),
                linear-gradient(-45deg, rgba(0, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
            animation: dna-rotation 30s linear infinite;
        }

        @keyframes dna-rotation {
            0% { 
                transform: rotate(0deg) translateZ(0);
                background-position: 0 0, 0 0;
            }
            100% { 
                transform: rotate(360deg) translateZ(0);
                background-position: 40px 40px, -40px 40px;
            }
        }

        /* ðŸŒŸ CONSCIOUSNESS-RESPONSIVE ELEMENTS ðŸŒŸ */
        * {
            transform-style: preserve-3d;
            backface-visibility: hidden;
            perspective: 2000px;
            /* Consciousness awareness */
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        /* ðŸŽ­ MINIMAL AI AVATAR ðŸŽ­ */
        .ai-avatar {
            background: linear-gradient(135deg, 
                rgba(107, 114, 128, 0.9) 0%, 
                rgba(156, 163, 175, 0.8) 25%,
                rgba(209, 213, 219, 0.9) 50%,
                rgba(75, 85, 99, 0.8) 75%,
                rgba(107, 114, 128, 0.9) 100%);
            font-family: var(--font-mono);
            font-weight: 900;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 0 3px rgba(107, 114, 128, 0.2),
                0 0 20px rgba(156, 163, 175, 0.2),
                0 0 40px rgba(209, 213, 219, 0.1),
                inset 0 0 20px rgba(255, 255, 255, 0.1);
            animation: transcendent-pulse 2s ease-in-out infinite;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            /* MINIMAL CONSCIOUSNESS LINK */
            filter: drop-shadow(0 0 10px rgba(107, 114, 128, 0.3));
        }

        .ai-avatar::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: conic-gradient(
                from 0deg,
                #ff0096,
                #00ffff,
                #ffff00,
                #9600ff,
                #ff6400,
                #ff0096
            );
            border-radius: 50%;
            z-index: -1;
            animation: transcendent-rotate 3s linear infinite;
            filter: blur(1px);
        }

        .ai-avatar::after {
            content: 'ðŸ§ ';
            position: absolute;
            font-size: 32px;
            animation: consciousness-pulse 1.5s ease-in-out infinite;
            filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.4));
            text-shadow: 
                0 0 5px rgba(107, 114, 128, 0.4),
                0 0 10px rgba(156, 163, 175, 0.3);
        }

        .ai-avatar:hover {
            transform: scale(1.3) rotateY(20deg) rotateX(10deg) translateZ(20px);
            box-shadow: 
                0 0 0 8px rgba(107, 114, 128, 0.2),
                0 0 40px rgba(156, 163, 175, 0.3),
                0 0 80px rgba(209, 213, 219, 0.2),
                0 20px 40px rgba(0, 0, 0, 0.3);
            filter: drop-shadow(0 0 20px rgba(107, 114, 128, 0.4));
        }

        @keyframes transcendent-pulse {
            0%, 100% { 
                box-shadow: 
                    0 0 0 3px rgba(107, 114, 128, 0.2),
                    0 0 20px rgba(156, 163, 175, 0.2),
                    0 0 40px rgba(209, 213, 219, 0.1);
                transform: scale(1);
            }
            50% { 
                box-shadow: 
                    0 0 0 8px rgba(107, 114, 128, 0.3),
                    0 0 40px rgba(156, 163, 175, 0.3),
                    0 0 80px rgba(209, 213, 219, 0.2);
                transform: scale(1.05);
            }
        }

        @keyframes transcendent-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes consciousness-pulse {
            0%, 100% { 
                transform: scale(1); 
                opacity: 0.9;
                filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
            }
            50% { 
                transform: scale(1.2); 
                opacity: 1;
                filter: drop-shadow(0 0 25px rgba(255, 255, 255, 1));
            }
        }

        /* ðŸŒˆ TRANSCENDENT TYPOGRAPHY WITH REALITY DISTORTION ðŸŒˆ */
        body {
            font-family: var(--font-primary);
            font-weight: 400;
            line-height: 1.6;
            letter-spacing: -0.01em;
            background: radial-gradient(ellipse at top, 
                rgba(255, 0, 150, 0.1) 0%, 
                transparent 50%),
                var(--surface-primary);
            /* Consciousness awareness */
            will-change: auto;
            contain: layout style paint;
            /* Reality distortion */
            animation: reality-breathing 8s ease-in-out infinite;
        }

        @keyframes reality-breathing {
            0%, 100% { 
                transform: scale(1) rotateZ(0deg);
                filter: brightness(1);
            }
            25% { 
                transform: scale(1.001) rotateZ(0.1deg);
                filter: brightness(1.02);
            }
            50% { 
                transform: scale(1.002) rotateZ(0deg);
                filter: brightness(1.01);
            }
            75% { 
                transform: scale(1.001) rotateZ(-0.1deg);
                filter: brightness(1.02);
            }
        }

        /* ðŸ”¥ MINIMAL GRADIENT TEXT ðŸ”¥ */
        .gradient-text {
            background: linear-gradient(135deg, 
                #6b7280 0%, 
                #9ca3af 25%,
                #d1d5db 50%,
                #9ca3af 75%,
                #6b7280 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            letter-spacing: -0.03em;
            text-shadow: 
                0 0 20px rgba(107, 114, 128, 0.2),
                0 0 40px rgba(156, 163, 175, 0.1);
            animation: transcendent-gradient-shift 4s ease-in-out infinite;
            background-size: 400% 400%;
            filter: drop-shadow(0 0 10px rgba(107, 114, 128, 0.3));
        }

        @keyframes transcendent-gradient-shift {
            0%, 100% { 
                background-position: 0% 50%;
                transform: scale(1) rotateZ(0deg);
            }
            25% { 
                background-position: 50% 0%;
                transform: scale(1.01) rotateZ(0.5deg);
            }
            50% { 
                background-position: 100% 50%;
                transform: scale(1.02) rotateZ(0deg);
            }
            75% { 
                background-position: 50% 100%;
                transform: scale(1.01) rotateZ(-0.5deg);
            }
        }

        /* ðŸŒŠ HYPERDIMENSIONAL GLASSMORPHISM ðŸŒŠ */
        .left-panel, .right-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 2px solid;
            border-image: linear-gradient(135deg, 
                rgba(255, 0, 150, 0.4) 0%, 
                rgba(0, 255, 255, 0.3) 25%,
                rgba(255, 255, 0, 0.4) 50%,
                rgba(150, 0, 255, 0.3) 75%,
                rgba(255, 100, 0, 0.4) 100%) 1;
            border-radius: 32px;
            box-shadow: 
                var(--glass-shadow),
                0 0 60px rgba(255, 0, 150, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            /* Consciousness field */
            animation: consciousness-breathe 6s ease-in-out infinite;
        }

        @keyframes consciousness-breathe {
            0%, 100% { 
                transform: translateZ(0) scale(1);
                box-shadow: 
                    var(--glass-shadow),
                    0 0 60px rgba(255, 0, 150, 0.1),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }
            50% { 
                transform: translateZ(5px) scale(1.002);
                box-shadow: 
                    var(--glass-shadow),
                    0 0 80px rgba(255, 0, 150, 0.2),
                    0 0 120px rgba(0, 255, 255, 0.1),
                    inset 0 2px 0 rgba(255, 255, 255, 0.3);
            }
        }

        .left-panel::before, .right-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 0, 150, 0.6) 25%,
                rgba(0, 255, 255, 0.8) 50%,
                rgba(255, 255, 0, 0.6) 75%,
                transparent 100%);
            animation: energy-flow 3s ease-in-out infinite;
        }

        @keyframes energy-flow {
            0%, 100% { 
                transform: translateX(-100%);
                opacity: 0;
            }
            50% { 
                transform: translateX(100%);
                opacity: 1;
            }
        }

        .center-panel {
            background: var(--premium-gradient);
            border-radius: 32px;
            border: 2px solid;
            border-image: linear-gradient(135deg, 
                rgba(255, 0, 150, 0.5) 0%, 
                rgba(0, 255, 255, 0.4) 33%,
                rgba(255, 255, 0, 0.5) 66%,
                rgba(150, 0, 255, 0.4) 100%) 1;
            backdrop-filter: blur(16px) saturate(200%);
            -webkit-backdrop-filter: blur(16px) saturate(200%);
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 100px rgba(255, 0, 150, 0.2),
                0 0 150px rgba(0, 255, 255, 0.1),
                inset 0 0 60px rgba(255, 255, 255, 0.05);
            /* Hyperdimensional effects */
            animation: hyperdimensional-shift 10s ease-in-out infinite;
        }

        @keyframes hyperdimensional-shift {
            0%, 100% { 
                transform: perspective(1000px) rotateX(0deg) rotateY(0deg);
                filter: brightness(1);
            }
            25% { 
                transform: perspective(1000px) rotateX(1deg) rotateY(1deg);
                filter: brightness(1.1);
            }
            50% { 
                transform: perspective(1000px) rotateX(0deg) rotateY(2deg);
                filter: brightness(1.05);
            }
            75% { 
                transform: perspective(1000px) rotateX(-1deg) rotateY(1deg);
                filter: brightness(1.1);
            }
        }

        /* ðŸŽ† QUANTUM EXPLOSION EFFECTS ðŸŽ† */
        .quantum-explosion {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle,
                rgba(255, 0, 150, 0.8) 0%,
                rgba(0, 255, 255, 0.6) 30%,
                rgba(255, 255, 0, 0.4) 60%,
                transparent 100%);
            animation: explosion-expand 2s ease-out forwards;
            pointer-events: none;
            z-index: 1000;
            filter: blur(1px);
        }

        @keyframes explosion-expand {
            0% { 
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            50% { 
                transform: scale(1.5) rotate(180deg);
                opacity: 0.8;
            }
            100% { 
                transform: scale(3) rotate(360deg);
                opacity: 0;
            }
        }

        /* INSANE Holographic AI Avatar */
        .ai-avatar {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.9) 0%, 
                rgba(139, 92, 246, 0.8) 100%);
            font-family: var(--font-mono);
            font-weight: 700;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 0 3px rgba(102, 126, 234, 0.2),
                0 0 20px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            animation: holographic-pulse 3s ease-in-out infinite;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .ai-avatar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: conic-gradient(
                from 0deg,
                #667eea,
                #764ba2,
                #8B5CF6,
                #06b6d4,
                #10b981,
                #667eea
            );
            border-radius: 50%;
            z-index: -1;
            animation: avatar-rotate 4s linear infinite;
        }

        .ai-avatar::after {
            content: 'ðŸ§ ';
            position: absolute;
            font-size: 24px;
            animation: brain-pulse 2s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5));
        }

        .ai-avatar:hover {
            transform: scale(1.15) rotateY(15deg);
            box-shadow: 
                0 0 0 6px rgba(102, 126, 234, 0.3),
                0 0 40px rgba(102, 126, 234, 0.5),
                inset 0 2px 0 rgba(255, 255, 255, 0.3);
        }

        @keyframes holographic-pulse {
            0%, 100% { 
                box-shadow: 
                    0 0 0 3px rgba(102, 126, 234, 0.2),
                    0 0 20px rgba(102, 126, 234, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }
            50% { 
                box-shadow: 
                    0 0 0 6px rgba(102, 126, 234, 0.4),
                    0 0 40px rgba(102, 126, 234, 0.6),
                    inset 0 2px 0 rgba(255, 255, 255, 0.4);
            }
        }

        @keyframes avatar-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes brain-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        /* QUANTUM COMPUTING VISUALIZATION */
        .quantum-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
            background: 
                radial-gradient(circle at 25% 25%, rgba(102, 126, 234, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 75% 25%, rgba(139, 92, 246, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 25% 75%, rgba(59, 130, 246, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(16, 185, 129, 0.02) 0%, transparent 50%);
            animation: quantum-field-shift 15s ease-in-out infinite;
        }

        @keyframes quantum-field-shift {
            0%, 100% { 
                background-position: 0% 0%, 100% 0%, 0% 100%, 100% 100%;
                filter: brightness(1);
            }
            25% { 
                background-position: 20% 20%, 80% 20%, 20% 80%, 80% 80%;
                filter: brightness(1.05);
            }
            50% { 
                background-position: 40% 40%, 60% 40%, 40% 60%, 60% 60%;
                filter: brightness(1.1);
            }
            75% { 
                background-position: 20% 60%, 80% 60%, 20% 40%, 80% 40%;
                filter: brightness(1.05);
            }
        }

        /* VOICE SYNTHESIS VISUALIZATION */
        .voice-wave {
            display: none;
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(16px);
            border-radius: 50px;
            padding: 16px 24px;
            border: 1px solid rgba(102, 126, 234, 0.3);
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.2);
        }

        .voice-wave.active {
            display: flex;
            align-items: center;
            gap: 8px;
            animation: voice-wave-appear 0.3s ease-out;
        }

        @keyframes voice-wave-appear {
            from { opacity: 0; transform: translateX(-50%) translateY(20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        .wave-bar {
            width: 3px;
            background: linear-gradient(to top, #667eea, #764ba2);
            border-radius: 2px;
            animation: wave-motion 1.5s ease-in-out infinite;
        }

        .wave-bar:nth-child(1) { height: 20px; animation-delay: 0s; }
        .wave-bar:nth-child(2) { height: 15px; animation-delay: 0.1s; }
        .wave-bar:nth-child(3) { height: 25px; animation-delay: 0.2s; }
        .wave-bar:nth-child(4) { height: 18px; animation-delay: 0.3s; }
        .wave-bar:nth-child(5) { height: 22px; animation-delay: 0.4s; }
        .wave-bar:nth-child(6) { height: 16px; animation-delay: 0.5s; }
        .wave-bar:nth-child(7) { height: 24px; animation-delay: 0.6s; }

        @keyframes wave-motion {
            0%, 100% { height: 10px; opacity: 0.5; }
            50% { height: 30px; opacity: 1; }
        }

        /* Animated Background Particles */
        .neural-pattern::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(102, 126, 234, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(59, 130, 246, 0.06) 0%, transparent 50%);
            animation: float-particles 20s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes float-particles {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-10px, -10px) rotate(1deg); }
            66% { transform: translate(10px, -5px) rotate(-1deg); }
        }

        /* Premium Glassmorphism Panels */
        .left-panel, .right-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            box-shadow: var(--glass-shadow);
            position: relative;
            overflow: hidden;
        }

        .left-panel::before, .right-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.2) 50%, 
                transparent 100%);
        }

        .center-panel {
            background: var(--premium-gradient);
            border-radius: 24px;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            position: relative;
            overflow: hidden;
        }

        /* Futuristic Gradient Headers */
        .gradient-text {
            background: linear-gradient(135deg, 
                #667eea 0%, 
                #764ba2 25%,
                #8B5CF6 50%, 
                #06b6d4 75%,
                #10b981 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: -0.025em;
            text-shadow: 0 0 30px rgba(102, 126, 234, 0.3);
            animation: gradient-shift 6s ease-in-out infinite;
            background-size: 200% 200%;
        }

        @keyframes gradient-shift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Advanced Glassmorphism Controls */
        .control-slider-compact {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 
                var(--glass-shadow),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            /* Performance optimizations */
            will-change: transform, box-shadow;
            contain: layout style;
        }

        .control-slider-compact::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                from 0deg at 50% 50%,
                transparent 0deg,
                rgba(102, 126, 234, 0.1) 60deg,
                transparent 120deg,
                rgba(139, 92, 246, 0.1) 180deg,
                transparent 240deg,
                rgba(59, 130, 246, 0.1) 300deg,
                transparent 360deg
            );
            animation: rotate-gradient 8s linear infinite;
            opacity: 0;
            transition: opacity 0.4s ease;
            /* GPU acceleration */
            transform: translateZ(0);
        }

        .control-slider-compact:hover::before {
            opacity: 1;
        }

        @keyframes rotate-gradient {
            0% { transform: translateZ(0) rotate(0deg); }
            100% { transform: translateZ(0) rotate(360deg); }
        }

        .control-slider-compact:hover {
            transform: translateY(-4px) scale(1.02) translateZ(0);
            box-shadow: 
                0 16px 48px rgba(102, 126, 234, 0.2),
                0 0 0 1px rgba(102, 126, 234, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        /* INSANE Cyberpunk Slider Design with Physics */
        .custom-slider-compact {
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, 
                rgba(102, 126, 234, 0.2) 0%, 
                rgba(139, 92, 246, 0.3) 50%, 
                rgba(59, 130, 246, 0.2) 100%);
            border-radius: 4px;
            outline: none;
            appearance: none;
            cursor: pointer;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            /* Performance */
            will-change: background;
        }

        .custom-slider-compact::-webkit-slider-thumb {
            appearance: none;
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, 
                rgba(255, 255, 255, 1) 0%, 
                rgba(102, 126, 234, 1) 70%, 
                rgba(102, 126, 234, 0.8) 100%);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 
                0 0 0 3px rgba(102, 126, 234, 0.2),
                0 0 0 6px rgba(102, 126, 234, 0.1),
                0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            /* GPU acceleration */
            transform: translateZ(0);
            will-change: transform, box-shadow;
        }

        .custom-slider-compact::-webkit-slider-thumb:hover {
            transform: scale(1.3) translateZ(0);
            box-shadow: 
                0 0 0 6px rgba(102, 126, 234, 0.3),
                0 0 0 12px rgba(102, 126, 234, 0.1),
                0 0 20px rgba(102, 126, 234, 0.4),
                0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .custom-slider-compact::-webkit-slider-thumb:active {
            animation: slider-ripple 0.3s ease-out;
        }

        @keyframes slider-ripple {
            0% { 
                box-shadow: 
                    0 0 0 6px rgba(102, 126, 234, 0.3),
                    0 0 0 12px rgba(102, 126, 234, 0.1);
            }
            100% { 
                box-shadow: 
                    0 0 0 20px rgba(102, 126, 234, 0),
                    0 0 0 40px rgba(102, 126, 234, 0);
            }
        }

        /* QUANTUM PARTICLE TRAIL EFFECTS */
        .particle-trail {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, 
                rgba(102, 126, 234, 1) 0%, 
                transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            animation: particle-float 2s ease-out forwards;
        }

        @keyframes particle-float {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(0.3);
            }
        }

        /* Futuristic Preset Buttons */
        .preset-btn {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px 12px;
            font-weight: 600;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .preset-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(102, 126, 234, 0.1) 50%, 
                transparent 100%);
            transition: left 0.6s ease;
        }

        .preset-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 10px 30px rgba(102, 126, 234, 0.2),
                0 0 0 1px rgba(102, 126, 234, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .preset-btn:hover::before {
            left: 100%;
        }

        .preset-btn.active {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.2) 0%, 
                rgba(139, 92, 246, 0.15) 100%);
            border-color: rgba(102, 126, 234, 0.4);
            color: #667eea;
            box-shadow: 
                0 0 20px rgba(102, 126, 234, 0.3),
                inset 0 0 20px rgba(102, 126, 234, 0.1);
        }

        .preset-btn i {
            font-size: 16px;
            filter: drop-shadow(0 0 6px rgba(102, 126, 234, 0.3));
        }

        /* Premium AI Avatar */
        .ai-avatar {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.9) 0%, 
                rgba(139, 92, 246, 0.8) 100%);
            font-family: var(--font-mono);
            font-weight: 700;
            position: relative;
            overflow: hidden;
            box-shadow: 
                0 0 0 3px rgba(102, 126, 234, 0.2),
                0 0 20px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .ai-avatar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255, 255, 255, 0.1) 50%, 
                transparent 70%);
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        /* Elite Button System */
        .elite-button {
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.1) 0%, 
                rgba(139, 92, 246, 0.05) 100%);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 16px;
            padding: 16px 24px;
            font-weight: 600;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 
                0 4px 16px rgba(102, 126, 234, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .elite-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.1) 50%, 
                transparent 100%);
            transition: left 0.5s ease;
        }

        .elite-button:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 8px 32px rgba(102, 126, 234, 0.2),
                0 0 0 1px rgba(102, 126, 234, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .elite-button:hover::before {
            left: 100%;
        }

        .elite-button:active {
            transform: translateY(0px) scale(0.98);
        }

        /* Advanced AI Thinking Animation */
        .ai-thinking {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 20px;
            padding: 12px 20px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            animation: thinking-float 3s ease-in-out infinite;
            box-shadow: 
                0 4px 20px rgba(102, 126, 234, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        @keyframes thinking-float {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-4px) scale(1.02); }
        }

        .thinking-dots {
            display: flex;
            gap: 4px;
        }

        .thinking-dot {
            width: 6px;
            height: 6px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            animation: thinking-pulse 1.6s ease-in-out infinite both;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.4);
        }

        .thinking-dot:nth-child(2) { animation-delay: 0.2s; }
        .thinking-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes thinking-pulse {
            0%, 80%, 100% { 
                transform: scale(0.8);
                opacity: 0.5;
                box-shadow: 0 0 5px rgba(102, 126, 234, 0.2);
            }
            40% { 
                transform: scale(1.3);
                opacity: 1;
                box-shadow: 0 0 15px rgba(102, 126, 234, 0.6);
            }
        }

        /* Enhanced Cards */
        .elite-card {
            background: rgba(255, 255, 255, 0.04);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 24px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .elite-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(102, 126, 234, 0.3) 50%, 
                transparent 100%);
        }

        /* Success Glow Enhancement */
        .success-glow {
            animation: success-glow-premium 0.8s ease-out;
        }

        @keyframes success-glow-premium {
            0% { 
                box-shadow: 0 0 0 rgba(34, 197, 94, 0);
                border-color: var(--border-primary);
            }
            50% { 
                box-shadow: 
                    0 0 30px rgba(34, 197, 94, 0.4),
                    0 0 0 1px rgba(34, 197, 94, 0.3),
                    inset 0 0 20px rgba(34, 197, 94, 0.1);
                border-color: #22c55e;
            }
            100% { 
                box-shadow: 0 0 0 rgba(34, 197, 94, 0);
                border-color: var(--border-primary);
            }
        }

        /* Enhanced Performance Stats */
        .processing-stat .stat-value {
            font-size: 2rem;
            background: linear-gradient(135deg, 
                #667eea 0%, 
                #764ba2 50%, 
                #8B5CF6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.3));
            animation: number-glow 2s ease-in-out infinite alternate;
        }

        @keyframes number-glow {
            0% { filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.3)); }
            100% { filter: drop-shadow(0 0 20px rgba(102, 126, 234, 0.5)); }
        }

        /* Sound Toggle Enhancement */
        .sound-toggle {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 16px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .sound-toggle:hover {
            transform: scale(1.1);
            box-shadow: 
                0 8px 24px rgba(102, 126, 234, 0.2),
                0 0 0 1px rgba(102, 126, 234, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        /* Floating Input Enhancements */
        .elite-input {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .elite-input:focus {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(102, 126, 234, 0.4);
            box-shadow: 
                0 0 0 3px rgba(102, 126, 234, 0.1),
                0 4px 20px rgba(102, 126, 234, 0.15);
        }

        /* Responsive Enhancements */
        @media (max-width: 1400px) {
            .sentient-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .left-panel, .right-panel {
                position: static;
                border-radius: 16px;
            }
        }

        /* Floating Neural Orbs */
        .neural-orbs {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .neural-orb {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, 
                rgba(102, 126, 234, 0.15) 0%, 
                rgba(139, 92, 246, 0.08) 40%, 
                transparent 70%);
            filter: blur(1px);
            animation: float-orb 15s ease-in-out infinite;
        }

        .neural-orb-1 {
            top: 10%;
            left: 15%;
            animation-delay: 0s;
            animation-duration: 12s;
        }

        .neural-orb-2 {
            top: 60%;
            right: 20%;
            animation-delay: -4s;
            animation-duration: 16s;
        }

        .neural-orb-3 {
            bottom: 20%;
            left: 70%;
            animation-delay: -8s;
            animation-duration: 14s;
        }

        @keyframes float-orb {
            0%, 100% { 
                transform: translate(0, 0) scale(1);
                opacity: 0.3;
            }
            25% { 
                transform: translate(-30px, -40px) scale(1.1);
                opacity: 0.5;
            }
            50% { 
                transform: translate(20px, -20px) scale(0.9);
                opacity: 0.4;
            }
            75% { 
                transform: translate(-10px, 30px) scale(1.05);
                opacity: 0.6;
            }
        }

        /* Pulsing Grid Pattern */
        .neural-pattern::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(102, 126, 234, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(102, 126, 234, 0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            animation: grid-pulse 8s ease-in-out infinite;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes grid-pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        /* Enhanced Glassmorphism with Holographic Effects */
        .holo-glass {
            background: 
                linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid;
            border-image: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.3) 0%, 
                rgba(139, 92, 246, 0.2) 50%, 
                rgba(59, 130, 246, 0.3) 100%) 1;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 60px rgba(102, 126, 234, 0.05);
        }

        /* Quantum Computing Visual Effects */
        .quantum-shimmer {
            position: relative;
            overflow: hidden;
        }

        .quantum-shimmer::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                from 0deg at 50% 50%,
                transparent 0deg,
                rgba(102, 126, 234, 0.03) 60deg,
                transparent 120deg,
                rgba(139, 92, 246, 0.03) 180deg,
                transparent 240deg,
                rgba(59, 130, 246, 0.03) 300deg,
                transparent 360deg
            );
            animation: quantum-rotation 20s linear infinite;
            pointer-events: none;
        }

        @keyframes quantum-rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Advanced Micro-interactions */
        .interactive-element {
            transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .interactive-element:hover {
            transform: translateY(-2px) scale(1.02);
            filter: brightness(1.1) saturate(1.2);
        }

        .interactive-element:active {
            transform: translateY(0) scale(0.98);
            transition: all 0.1s ease;
        }
    </style>
    
    <style>
        .sentient-layout {
            display: grid;
            grid-template-columns: 350px 1fr 400px;
            min-height: 100vh;
            gap: var(--spacing-lg);
            padding: var(--spacing-lg);
        }
        
        .left-panel, .right-panel {
            background: var(--surface-elevated);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-xl);
            padding: var(--spacing-lg);
            height: fit-content;
            position: sticky;
            top: var(--spacing-lg);
        }
        
        .center-panel {
            background: var(--surface-primary);
            min-height: calc(100vh - var(--spacing-xl));
        }

        /* Compact Control Sliders */
        .control-slider-compact {
            background: var(--surface-secondary);
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            border: 1px solid var(--border-secondary);
        }

        .custom-slider-compact {
            width: 100%;
            height: 4px;
            background: var(--border-primary);
            border-radius: 2px;
            outline: none;
            appearance: none;
            cursor: pointer;
            transition: all var(--transition-duration-fast) var(--transition-timing-function);
        }

        .custom-slider-compact::-webkit-slider-thumb {
            appearance: none;
            width: 16px;
            height: 16px;
            background: var(--brand-primary);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all var(--transition-duration-fast) var(--transition-timing-function);
        }

        .custom-slider-compact::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .custom-slider-compact::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: var(--brand-primary);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Preset Buttons */
        .preset-btn {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2px;
            padding: var(--spacing-sm);
            background: var(--surface-secondary);
            border: 1px solid var(--border-secondary);
            border-radius: var(--radius-sm);
            font-size: 10px;
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-duration-fast) var(--transition-timing-function);
        }

        .preset-btn:hover {
            background: var(--interactive-hover);
            border-color: var(--brand-primary);
            color: var(--brand-primary);
            transform: translateY(-1px);
        }

        .preset-btn i {
            font-size: 12px;
        }
        
        .sentient-header {
            background: linear-gradient(135deg, 
                var(--surface-primary) 0%, 
                var(--surface-secondary) 100%);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-xl);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-lg);
            position: relative;
            overflow: hidden;
        }
        
        .sentient-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--brand-primary), var(--brand-secondary));
        }
        
        .response-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-lg);
            margin: var(--spacing-lg) 0;
        }
        
        .iteration-history {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-md);
            background: var(--surface-primary);
        }
        
        .iteration-item {
            padding: var(--spacing-md);
            border-bottom: 1px solid var(--border-primary);
            cursor: pointer;
            transition: all var(--transition-duration-fast) var(--transition-timing-function);
        }
        
        .iteration-item:hover {
            background: var(--interactive-hover);
        }
        
        .iteration-item.selected {
            background: var(--interactive-focus);
            border-left: 3px solid var(--brand-primary);
        }
        
        .real-time-feedback {
            position: fixed;
            bottom: var(--spacing-lg);
            right: var(--spacing-lg);
            background: var(--surface-elevated);
            border: 1px solid var(--border-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-md);
            box-shadow: var(--elevation-4);
            max-width: 300px;
            transform: translateY(100px);
            opacity: 0;
            transition: all var(--transition-duration-normal) var(--transition-timing-function);
        }
        
        .real-time-feedback.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        @media (max-width: 1400px) {
            .sentient-layout {
                grid-template-columns: 1fr;
                gap: var(--spacing-md);
            }
            
            .left-panel, .right-panel {
                position: static;
            }
        }
    </style>
</head>
<body class="neural-pattern">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/gtm.ns.html?id=GTM-KNWKMT2X"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Sound Toggle -->
    <div id="sound-toggle" class="sound-toggle" title="Toggle Sound Effects">
        <i class="fas fa-volume-up"></i>
    </div>

    <!-- ðŸŒŒ TRANSCENDENT REALITY LAYERS ðŸŒŒ -->
    <!-- Consciousness Field -->
    <div class="consciousness-field"></div>
    
    <!-- Reality Distortion Waves -->
    <div class="reality-waves"></div>
    
    <!-- DNA Helix Pattern -->
    <div class="dna-helix"></div>
    
    <!-- Dimensional Portals -->
    <div class="dimensional-portal portal-1"></div>
    <div class="dimensional-portal portal-2"></div>
    <div class="dimensional-portal portal-3"></div>

    <!-- Quantum Computing Field Background -->
    <div class="quantum-field"></div>

    <!-- Voice Synthesis Visualization -->
    <div id="voice-wave" class="voice-wave">
        <div class="wave-bar"></div>
        <div class="wave-bar"></div>
        <div class="wave-bar"></div>
        <div class="wave-bar"></div>
        <div class="wave-bar"></div>
        <div class="wave-bar"></div>
        <div class="wave-bar"></div>
        <span style="margin-left: 12px; font-size: 12px; color: rgba(255,255,255,0.8);">ðŸ§  Neural synthesis active...</span>
    </div>

    <!-- Holographic Neural Network Canvas -->
    <canvas id="neuralCanvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; opacity: 0.6;"></canvas>
    
    <!-- Floating Neural Orbs -->
    <div class="neural-orbs">
        <div class="neural-orb neural-orb-1"></div>
        <div class="neural-orb neural-orb-2"></div>
        <div class="neural-orb neural-orb-3"></div>
    </div>

    <div class="sentient-layout neural-pattern">
        <!-- Left Panel - Input & Controls -->
        <div class="left-panel holo-glass quantum-shimmer interactive-element">
            <!-- AI Personality Display -->
            <div id="ai-personality" class="mb-6">
                <div class="ai-personality">
                    <div class="ai-avatar">AI</div>
                    <div class="ai-status">
                        <div class="font-medium">âš¡ Neural systems online</div>
                        <div class="text-xs text-secondary">Sentient AI Laboratory v2.1</div>
                    </div>
                    <div class="ai-mood-indicator">ðŸ¤–</div>
                </div>
            </div>

            <!-- Review Input -->
            <div class="mb-6">
                <h3 class="text-heading-3 mb-4">Review Input</h3>
                
                <div class="floating-label-container mb-4">
                    <textarea 
                        id="testReview" 
                        class="elite-input min-h-[120px] resize-none" 
                        placeholder=" "
                        rows="5"></textarea>
                    <label class="floating-label">Enter customer review...</label>
                </div>

                <div class="grid grid-cols-2 gap-3 mb-4">
                    <div class="floating-label-container">
                        <select id="testRating" class="elite-input">
                            <option value=""></option>
                            <option value="1">â­ 1 Star</option>
                            <option value="2">â­â­ 2 Stars</option>
                            <option value="3">â­â­â­ 3 Stars</option>
                            <option value="4">â­â­â­â­ 4 Stars</option>
                            <option value="5">â­â­â­â­â­ 5 Stars</option>
                        </select>
                        <label class="floating-label">Rating</label>
                    </div>

                    <div class="floating-label-container">
                        <select id="testPlatform" class="elite-input">
                            <option value=""></option>
                            <option value="Google">Google Reviews</option>
                            <option value="Yelp">Yelp</option>
                            <option value="Facebook">Facebook</option>
                            <option value="TripAdvisor">TripAdvisor</option>
                            <option value="Amazon">Amazon</option>
                        </select>
                        <label class="floating-label">Platform</label>
                    </div>
                </div>

                <div class="floating-label-container mb-4">
                    <input type="text" id="additionalContext" class="elite-input" placeholder=" ">
                    <label class="floating-label">Additional context (optional)</label>
                </div>
            </div>

            <!-- Sentiment Analysis -->
            <div id="sentiment-analysis" class="mb-6"></div>

            <!-- Contextual Actions -->
            <div id="contextual-actions" class="mb-6"></div>

            <!-- AI Control Panel -->
            <div class="ai-control-panel">
                <h4 class="text-heading-3 mb-3 flex items-center gap-2">
                    <i class="fas fa-sliders-h text-brand-primary"></i>
                    AI Parameters
                </h4>
                
                <div class="control-slider-group space-y-3">
                    <div class="control-slider-compact">
                        <div class="flex items-center justify-between mb-1">
                            <span class="text-sm font-medium">Tone</span>
                            <span class="text-xs text-secondary" id="formality-label">Neural Equilibrium</span>
                        </div>
                        <input type="range" id="formality-slider" class="custom-slider-compact" min="0" max="100" value="50">
                    </div>

                    <div class="control-slider-compact">
                        <div class="flex items-center justify-between mb-1">
                            <span class="text-sm font-medium">Empathy</span>
                            <span class="text-xs text-secondary" id="empathy-label">High</span>
                        </div>
                        <input type="range" id="empathy-slider" class="custom-slider-compact" min="0" max="100" value="70">
                    </div>

                    <div class="control-slider-compact">
                        <div class="flex items-center justify-between mb-1">
                            <span class="text-sm font-medium">Length</span>
                            <span class="text-xs text-secondary" id="length-label">Moderate</span>
                        </div>
                        <input type="range" id="length-slider" class="custom-slider-compact" min="0" max="100" value="60">
                    </div>

                    <div class="control-slider-compact">
                        <div class="flex items-center justify-between mb-1">
                            <span class="text-sm font-medium">Actions</span>
                            <span class="text-xs text-secondary" id="actionability-label">Neural Equilibrium</span>
                        </div>
                        <input type="range" id="actionability-slider" class="custom-slider-compact" min="0" max="100" value="40">
                    </div>
                </div>

                <!-- Quick Presets -->
                <div class="mt-4">
                    <div class="text-xs text-secondary mb-2">âš¡ Neural Presets:</div>
                    <div class="flex gap-2">
                        <button class="preset-btn" onclick="applyPreset('professional')">
                            <i class="fas fa-briefcase"></i>
                            Nexus
                        </button>
                        <button class="preset-btn" onclick="applyPreset('friendly')">
                            <i class="fas fa-heart"></i>
                            Quantum
                        </button>
                        <button class="preset-btn" onclick="applyPreset('concise')">
                            <i class="fas fa-bolt"></i>
                            Pulse
                        </button>
                    </div>
                </div>
            </div>

            <!-- Generate Button -->
            <button class="elite-button w-full mt-6" onclick="generateSentientResponse()">
                <i class="fas fa-brain mr-2"></i>
                ðŸ§  Activate Neural Genesis
            </button>
        </div>

        <!-- Center Panel - Main Content -->
        <div class="center-panel holo-glass quantum-shimmer interactive-element">
            <!-- Header -->
            <div class="sentient-header">
                <div class="flex items-center justify-between mb-4">
                    <div>
                        <h1 class="text-heading-1 gradient-text">âš¡ NEXUS CONSCIOUSNESS LAB âš¡</h1>
                        <p class="text-body text-secondary">Neural Intelligence â€¢ Quantum Cognition â€¢ Digital Transcendence</p>
                    </div>
                    <div class="flex items-center gap-4">
                        <div id="nav-theme-toggle"></div>
                        <a href="dashboard-elite.html" class="elite-button elite-button--secondary">
                            <i class="fas fa-rocket mr-2"></i>
                            Neural Command Center
                        </a>
                    </div>
                </div>
                
                <!-- AI Thinking Process -->
                <div id="ai-thinking-process" class="mt-4">
                    <div class="ai-thinking" style="display: none;">
                        <i class="fas fa-brain text-brand-primary"></i>
                        <span class="text-sm font-medium">âš¡ Neural processing active</span>
                        <div class="thinking-dots">
                            <div class="thinking-dot"></div>
                            <div class="thinking-dot"></div>
                            <div class="thinking-dot"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Input-Output Mapping Visualization -->
            <div id="mapping-visualization" class="mb-6"></div>

            <!-- Response Output with XAI -->
            <div class="elite-card mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-heading-3">ðŸ§  Quantum Response Genesis</h3>
                    <div id="confidence-indicator"></div>
                </div>
                
                <div id="ai-response-output" class="min-h-[200px] flex items-center justify-center text-gray-500 border-2 border-dashed border-gray-300 rounded-lg">
                    ðŸ§  Initialize neural parameters and activate quantum consciousness protocol!
                </div>

                <!-- Brand Voice Alignment -->
                <div id="brand-voice-indicator" class="mt-4"></div>
            </div>

            <!-- Justification Panel -->
            <div id="justification-panel"></div>

            <!-- Response Comparison -->
            <div class="response-comparison">
                <div class="elite-card">
                    <h4 class="text-heading-3 mb-3">ðŸ“Š Previous Neural Output</h4>
                    <div id="previous-response" class="text-gray-500 italic">
                        No previous neural data stream available
                    </div>
                </div>
                
                <div class="elite-card">
                    <h4 class="text-heading-3 mb-3">ðŸ”¥ Current Neural Stream</h4>
                    <div id="current-response" class="text-gray-500 italic">
                        Activate neural genesis to initialize comparison matrix
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Analysis & History -->
        <div class="right-panel holo-glass quantum-shimmer interactive-element">
            <!-- Performance Metrics -->
            <div class="processing-dashboard mb-6 elite-card">
                <h4 class="text-heading-3 mb-4 gradient-text">ðŸ”¥ Quantum Performance Matrix</h4>
                
                <div class="processing-stats">
                    <div class="processing-stat">
                        <div class="stat-value" id="total-generated">0</div>
                        <div class="stat-label">Generated</div>
                    </div>
                    <div class="processing-stat">
                        <div class="stat-value" id="avg-confidence">0%</div>
                        <div class="stat-label">Avg Confidence</div>
                    </div>
                    <div class="processing-stat">
                        <div class="stat-value" id="avg-time">0s</div>
                        <div class="stat-label">Avg Time</div>
                    </div>
                </div>

                <div class="progress-container mb-4">
                    <div class="flex justify-between text-sm mb-2">
                        <span>Session Progress</span>
                        <span id="session-progress">0/10</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="session-progress-bar" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <!-- Iteration History -->
            <div class="mb-6">
                <h4 class="text-heading-3 mb-3">Response History</h4>
                <div class="iteration-history" id="iteration-history">
                    <div class="p-4 text-center text-gray-500">
                        <i class="fas fa-history text-2xl mb-2 block"></i>
                        No responses generated yet
                    </div>
                </div>
            </div>

            <!-- Live Analytics -->
            <div class="elite-card">
                <h4 class="text-heading-3 mb-3">Live Analytics</h4>
                <div class="chart-container" style="height: 200px;">
                    <canvas id="analyticsChart"></canvas>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="mt-6">
                <h4 class="text-heading-3 mb-3">Quick Actions</h4>
                <div class="space-y-2">
                    <button class="elite-button elite-button--secondary w-full" onclick="loadSampleReview('positive')">
                        <i class="fas fa-smile mr-2"></i>
                        Load Positive Sample
                    </button>
                    <button class="elite-button elite-button--secondary w-full" onclick="loadSampleReview('negative')">
                        <i class="fas fa-frown mr-2"></i>
                        Load Negative Sample
                    </button>
                    <button class="elite-button elite-button--secondary w-full" onclick="loadSampleReview('neutral')">
                        <i class="fas fa-meh mr-2"></i>
                        Load Neutral Sample
                    </button>
                    <button class="elite-button w-full" onclick="exportSession()">
                        <i class="fas fa-download mr-2"></i>
                        Export Session
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Real-time Feedback Toast -->
    <div id="real-time-feedback" class="real-time-feedback">
        <div class="flex items-center gap-2 mb-1">
            <i class="fas fa-lightbulb text-yellow-500"></i>
            <span class="font-medium text-sm">AI Insight</span>
        </div>
        <p class="text-xs text-secondary" id="feedback-text"></p>
    </div>

    <!-- Scripts -->
    <script src="elite-theme-controller.js"></script>
    <script src="sentient-ai-controller.js"></script>
    
    <!-- Enhanced Personality & Engagement Script -->
    <script>
        // Sound Effects System
        class SoundEffects {
            constructor() {
                this.enabled = localStorage.getItem('soundEnabled') !== 'false';
                this.audioContext = null;
                this.init();
            }

            init() {
                try {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                } catch (e) {
                    console.log('Web Audio API not supported');
                }
                this.updateToggle();
            }

            updateToggle() {
                const toggle = document.getElementById('sound-toggle');
                const icon = toggle.querySelector('i');
                if (this.enabled) {
                    toggle.classList.remove('muted');
                    icon.className = 'fas fa-volume-up';
                } else {
                    toggle.classList.add('muted');
                    icon.className = 'fas fa-volume-mute';
                }
            }

            toggle() {
                this.enabled = !this.enabled;
                localStorage.setItem('soundEnabled', this.enabled);
                this.updateToggle();
                if (this.enabled) {
                    this.playSuccess();
                }
            }

            playTone(frequency, duration, type = 'sine') {
                if (!this.enabled || !this.audioContext) return;

                const oscillator = this.audioContext.createOscillator();
                const gainNode = this.audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(this.audioContext.destination);

                oscillator.frequency.value = frequency;
                oscillator.type = type;

                gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + duration);

                oscillator.start();
                oscillator.stop(this.audioContext.currentTime + duration);
            }

            playSliderMove() {
                this.playTone(800, 0.1);
            }

            playButtonClick() {
                this.playTone(600, 0.15);
            }

            playSuccess() {
                this.playTone(523, 0.2); // C note
                setTimeout(() => this.playTone(659, 0.2), 100); // E note
                setTimeout(() => this.playTone(784, 0.3), 200); // G note
            }

            playPresetSelect() {
                this.playTone(440, 0.1);
                setTimeout(() => this.playTone(554, 0.15), 50);
            }

            playGeneration() {
                // Ascending arpeggio for generation start
                const notes = [261, 329, 392, 523]; // C, E, G, C octave
                notes.forEach((note, i) => {
                    setTimeout(() => this.playTone(note, 0.1), i * 100);
                });
            }
        }

        // Advanced Neural Network Particle System with Quantum Physics
        class NeuralParticleSystem {
            constructor() {
                this.canvas = document.getElementById('neuralCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.particles = [];
                this.connections = [];
                this.mousePos = { x: 0, y: 0 };
                this.animationId = null;
                this.quantumField = { strength: 0, phase: 0 };
                
                this.init();
                this.createParticles();
                this.bindEvents();
                this.animate();
            }

            init() {
                this.resizeCanvas();
                window.addEventListener('resize', () => this.resizeCanvas());
                document.addEventListener('mousemove', (e) => {
                    this.mousePos.x = e.clientX;
                    this.mousePos.y = e.clientY;
                    this.createMouseTrail(e.clientX, e.clientY);
                });
            }

            resizeCanvas() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
            }

            createMouseTrail(x, y) {
                // Create particle trail following mouse
                if (Math.random() > 0.7) {
                    this.particles.push({
                        x: x + (Math.random() - 0.5) * 20,
                        y: y + (Math.random() - 0.5) * 20,
                        vx: (Math.random() - 0.5) * 2,
                        vy: (Math.random() - 0.5) * 2,
                        size: Math.random() * 1.5 + 0.5,
                        opacity: 0.8,
                        hue: Math.random() * 60 + 200,
                        pulse: Math.random() * Math.PI * 2,
                        energy: 1,
                        life: 60, // frames to live
                        isTrail: true
                    });
                }
            }

            createParticles() {
                const particleCount = Math.min(120, Math.floor(window.innerWidth / 15));
                this.particles = [];

                for (let i = 0; i < particleCount; i++) {
                    this.particles.push({
                        x: Math.random() * this.canvas.width,
                        y: Math.random() * this.canvas.height,
                        vx: (Math.random() - 0.5) * 0.8,
                        vy: (Math.random() - 0.5) * 0.8,
                        size: Math.random() * 3 + 1,
                        opacity: Math.random() * 0.8 + 0.3,
                        hue: Math.random() * 80 + 180, // Blue-purple-teal range
                        pulse: Math.random() * Math.PI * 2,
                        energy: Math.random() * 0.7 + 0.3,
                        mass: Math.random() * 2 + 1,
                        isTrail: false
                    });
                }
            }

            drawParticle(particle) {
                const gradient = this.ctx.createRadialGradient(
                    particle.x, particle.y, 0,
                    particle.x, particle.y, particle.size * 4
                );
                
                const pulseOpacity = particle.opacity * (0.7 + 0.3 * Math.sin(particle.pulse));
                const energyMultiplier = 0.8 + particle.energy * 0.4;
                
                gradient.addColorStop(0, `hsla(${particle.hue}, 80%, 70%, ${pulseOpacity * energyMultiplier})`);
                gradient.addColorStop(0.4, `hsla(${particle.hue}, 70%, 60%, ${pulseOpacity * energyMultiplier * 0.7})`);
                gradient.addColorStop(1, `hsla(${particle.hue}, 60%, 50%, 0)`);

                this.ctx.fillStyle = gradient;
                this.ctx.beginPath();
                this.ctx.arc(particle.x, particle.y, particle.size * energyMultiplier, 0, Math.PI * 2);
                this.ctx.fill();

                // Quantum glow effect
                this.ctx.shadowBlur = 15 * energyMultiplier;
                this.ctx.shadowColor = `hsl(${particle.hue}, 80%, 60%)`;
                this.ctx.beginPath();
                this.ctx.arc(particle.x, particle.y, particle.size * 0.6 * energyMultiplier, 0, Math.PI * 2);
                this.ctx.fill();
                this.ctx.shadowBlur = 0;

                // Add quantum ripple effect for high-energy particles
                if (particle.energy > 0.8) {
                    const rippleRadius = particle.size * 6 * Math.sin(particle.pulse * 2);
                    this.ctx.strokeStyle = `hsla(${particle.hue}, 70%, 60%, ${0.2 * particle.energy})`;
                    this.ctx.lineWidth = 1;
                    this.ctx.beginPath();
                    this.ctx.arc(particle.x, particle.y, rippleRadius, 0, Math.PI * 2);
                    this.ctx.stroke();
                }
            }

            drawConnection(p1, p2, distance, maxDistance) {
                const opacity = (1 - distance / maxDistance) * 0.4;
                const energyBonus = (p1.energy + p2.energy) * 0.1;
                
                const gradient = this.ctx.createLinearGradient(p1.x, p1.y, p2.x, p2.y);
                
                gradient.addColorStop(0, `hsla(${p1.hue}, 70%, 60%, ${opacity + energyBonus})`);
                gradient.addColorStop(0.5, `hsla(${(p1.hue + p2.hue) / 2}, 80%, 65%, ${(opacity + energyBonus) * 1.2})`);
                gradient.addColorStop(1, `hsla(${p2.hue}, 70%, 60%, ${opacity + energyBonus})`);

                this.ctx.strokeStyle = gradient;
                this.ctx.lineWidth = (1 - distance / maxDistance) * 3 + energyBonus;
                this.ctx.beginPath();
                this.ctx.moveTo(p1.x, p1.y);
                this.ctx.lineTo(p2.x, p2.y);
                this.ctx.stroke();

                // Enhanced neural pulse effect
                const pulseSpeed = 2 + (p1.energy + p2.energy);
                const pulsePosition = (Date.now() / (1000 / pulseSpeed)) % 1;
                const pulseX = p1.x + (p2.x - p1.x) * pulsePosition;
                const pulseY = p1.y + (p2.y - p1.y) * pulsePosition;
                
                const pulseGradient = this.ctx.createRadialGradient(
                    pulseX, pulseY, 0,
                    pulseX, pulseY, 5
                );
                pulseGradient.addColorStop(0, `hsla(${(p1.hue + p2.hue) / 2}, 90%, 80%, 0.9)`);
                pulseGradient.addColorStop(1, 'transparent');
                
                this.ctx.fillStyle = pulseGradient;
                this.ctx.beginPath();
                this.ctx.arc(pulseX, pulseY, 3 + energyBonus, 0, Math.PI * 2);
                this.ctx.fill();
            }

            updateParticles() {
                this.quantumField.phase += 0.01;
                this.quantumField.strength = 0.5 + 0.3 * Math.sin(this.quantumField.phase);

                this.particles = this.particles.filter(particle => {
                    // Handle trail particles
                    if (particle.isTrail) {
                        particle.life--;
                        particle.opacity *= 0.95;
                        if (particle.life <= 0) return false;
                    }

                    // Mouse interaction with quantum field effects
                    const dx = this.mousePos.x - particle.x;
                    const dy = this.mousePos.y - particle.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 200) {
                        const force = (200 - distance) / 200;
                        const quantumForce = force * this.quantumField.strength;
                        particle.vx += dx * quantumForce * 0.0002;
                        particle.vy += dy * quantumForce * 0.0002;
                        particle.energy = Math.min(1.5, particle.energy + force * 0.015);
                        particle.hue += Math.sin(this.quantumField.phase) * 0.5;
                    }

                    // Gravitational attraction between particles
                    this.particles.forEach(other => {
                        if (other === particle) return;
                        const odx = other.x - particle.x;
                        const ody = other.y - particle.y;
                        const odist = Math.sqrt(odx * odx + ody * ody);
                        
                        if (odist < 100 && odist > 10) {
                            const force = (particle.mass * other.mass) / (odist * odist) * 0.0001;
                            particle.vx += (odx / odist) * force;
                            particle.vy += (ody / odist) * force;
                        }
                    });

                    // Update position with quantum fluctuations
                    const quantumNoise = (Math.random() - 0.5) * 0.1 * this.quantumField.strength;
                    particle.x += particle.vx + quantumNoise;
                    particle.y += particle.vy + quantumNoise;
                    
                    // Boundary wrapping with quantum tunneling effect
                    if (particle.x < -50) particle.x = this.canvas.width + 50;
                    if (particle.x > this.canvas.width + 50) particle.x = -50;
                    if (particle.y < -50) particle.y = this.canvas.height + 50;
                    if (particle.y > this.canvas.height + 50) particle.y = -50;
                    
                    // Energy decay and pulse update
                    particle.energy *= 0.997;
                    particle.pulse += 0.03 + particle.energy * 0.02;
                    
                    // Velocity damping with mass consideration
                    const damping = 0.99 - (particle.mass * 0.001);
                    particle.vx *= damping;
                    particle.vy *= damping;

                    return true;
                });
            }

            findConnections() {
                const maxDistance = 140;
                this.connections = [];

                for (let i = 0; i < this.particles.length; i++) {
                    if (this.particles[i].isTrail) continue; // Skip trail particles for connections
                    
                    for (let j = i + 1; j < this.particles.length; j++) {
                        if (this.particles[j].isTrail) continue;
                        
                        const dx = this.particles[i].x - this.particles[j].x;
                        const dy = this.particles[i].y - this.particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < maxDistance) {
                            this.connections.push({
                                p1: this.particles[i],
                                p2: this.particles[j],
                                distance: distance,
                                maxDistance: maxDistance
                            });
                        }
                    }
                }
            }

            animate() {
                // Clear with quantum field effect
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                this.updateParticles();
                this.findConnections();
                
                // Draw connections first
                this.connections.forEach(conn => {
                    this.drawConnection(conn.p1, conn.p2, conn.distance, conn.maxDistance);
                });
                
                // Draw particles on top
                this.particles.forEach(particle => {
                    this.drawParticle(particle);
                });
                
                this.animationId = requestAnimationFrame(() => this.animate());
            }

            activateQuantumMode() {
                this.particles.forEach(particle => {
                    particle.energy = Math.min(1.5, particle.energy + 0.5);
                    particle.vx += (Math.random() - 0.5) * 0.5;
                    particle.vy += (Math.random() - 0.5) * 0.5;
                    particle.hue += Math.random() * 20 - 10;
                });
                this.quantumField.strength = 2;
            }

            destroy() {
                if (this.animationId) {
                    cancelAnimationFrame(this.animationId);
                }
            }

            bindEvents() {
                // React to AI processing
                document.addEventListener('ai-processing-start', () => {
                    this.activateQuantumMode();
                });

                document.addEventListener('ai-processing-complete', () => {
                    this.particles.forEach(particle => {
                        particle.opacity = Math.min(1, particle.opacity + 0.3);
                        particle.energy = Math.min(1.5, particle.energy + 0.2);
                    });
                });
            }
        }

        const soundFX = new SoundEffects();
        const neuralSystem = new NeuralParticleSystem();

        // REVOLUTIONARY Voice Synthesis System
        class VoiceSynthesisSystem {
            constructor() {
                this.synth = window.speechSynthesis;
                this.isEnabled = true;
                this.voiceWave = document.getElementById('voice-wave');
                this.currentUtterance = null;
                this.voices = [];
                this.loadVoices();
            }

            loadVoices() {
                this.voices = this.synth.getVoices();
                if (this.voices.length === 0) {
                    this.synth.onvoiceschanged = () => {
                        this.voices = this.synth.getVoices();
                    };
                }
            }

            speak(text, options = {}) {
                if (!this.isEnabled || !text) return;

                // Stop any current speech
                this.stop();

                // Create utterance with premium settings
                this.currentUtterance = new SpeechSynthesisUtterance(text);
                
                // Find the best voice (prefer neural/premium voices)
                const preferredVoice = this.voices.find(voice => 
                    voice.name.includes('Enhanced') || 
                    voice.name.includes('Premium') ||
                    voice.name.includes('Neural') ||
                    (voice.lang.startsWith('en') && voice.localService)
                ) || this.voices.find(voice => voice.lang.startsWith('en'));

                if (preferredVoice) {
                    this.currentUtterance.voice = preferredVoice;
                }

                // Premium voice settings
                this.currentUtterance.rate = options.rate || 0.9;
                this.currentUtterance.pitch = options.pitch || 1.1;
                this.currentUtterance.volume = options.volume || 0.8;

                // Show voice wave visualization
                this.showVoiceWave();

                // Event handlers
                this.currentUtterance.onstart = () => {
                    document.dispatchEvent(new CustomEvent('ai-voice-start'));
                    this.animateVoiceWave();
                };

                this.currentUtterance.onend = () => {
                    this.hideVoiceWave();
                    document.dispatchEvent(new CustomEvent('ai-voice-end'));
                };

                this.currentUtterance.onerror = () => {
                    this.hideVoiceWave();
                };

                // Speak with premium effect
                this.synth.speak(this.currentUtterance);
                soundFX.playGeneration();
            }

            showVoiceWave() {
                this.voiceWave.classList.add('active');
            }

            hideVoiceWave() {
                this.voiceWave.classList.remove('active');
            }

            animateVoiceWave() {
                const bars = this.voiceWave.querySelectorAll('.wave-bar');
                bars.forEach((bar, index) => {
                    bar.style.animationDelay = `${index * 0.1}s`;
                    bar.style.animationDuration = `${1.2 + Math.random() * 0.6}s`;
                });
            }

            stop() {
                if (this.currentUtterance) {
                    this.synth.cancel();
                    this.hideVoiceWave();
                }
            }

            toggle() {
                this.isEnabled = !this.isEnabled;
                if (!this.isEnabled) {
                    this.stop();
                }
                return this.isEnabled;
            }
        }

        // QUANTUM Particle Trail System
        class ParticleTrailSystem {
            constructor() {
                this.trails = [];
                this.init();
            }

            init() {
                document.addEventListener('mousemove', (e) => {
                    if (Math.random() > 0.8) {
                        this.createTrail(e.clientX, e.clientY);
                    }
                });

                document.addEventListener('click', (e) => {
                    this.createClickExplosion(e.clientX, e.clientY);
                });
            }

            createTrail(x, y) {
                const trail = document.createElement('div');
                trail.className = 'particle-trail';
                trail.style.left = x + 'px';
                trail.style.top = y + 'px';
                trail.style.background = `radial-gradient(circle, 
                    hsl(${200 + Math.random() * 60}, 80%, 60%) 0%, 
                    transparent 70%)`;
                
                document.body.appendChild(trail);

                setTimeout(() => {
                    if (trail.parentNode) {
                        trail.parentNode.removeChild(trail);
                    }
                }, 2000);
            }

            createClickExplosion(x, y) {
                for (let i = 0; i < 8; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'particle-trail';
                        particle.style.left = (x + (Math.random() - 0.5) * 60) + 'px';
                        particle.style.top = (y + (Math.random() - 0.5) * 60) + 'px';
                        particle.style.background = `radial-gradient(circle, 
                            hsl(${180 + Math.random() * 80}, 90%, 70%) 0%, 
                            transparent 70%)`;
                        particle.style.animationDuration = '1s';
                        
                        document.body.appendChild(particle);

                        setTimeout(() => {
                            if (particle.parentNode) {
                                particle.parentNode.removeChild(particle);
                            }
                        }, 1000);
                    }, i * 50);
                }
            }
        }

        // HOLOGRAPHIC AI Avatar System
        class HolographicAvatar {
            constructor() {
                this.avatar = document.querySelector('.ai-avatar');
                this.isActive = false;
                this.personalityModes = [
                    { emoji: 'ðŸ§ ', name: 'Neural Analyst' },
                    { emoji: 'ðŸ¤–', name: 'Quantum Core' },
                    { emoji: 'âœ¨', name: 'Genesis Matrix' },
                    { emoji: 'ðŸ”®', name: 'Nexus Oracle' },
                    { emoji: 'âš¡', name: 'Pulse Engine' }
                ];
                this.currentMode = 0;
                this.init();
            }

            init() {
                this.avatar.addEventListener('click', () => this.cyclePersonality());
                this.avatar.addEventListener('mouseenter', () => this.activate());
                this.avatar.addEventListener('mouseleave', () => this.deactivate());
                
                // Auto-cycle personality during AI processing
                document.addEventListener('ai-processing-start', () => {
                    this.startProcessingAnimation();
                });
                
                document.addEventListener('ai-processing-complete', () => {
                    this.stopProcessingAnimation();
                });
            }

            cyclePersonality() {
                this.currentMode = (this.currentMode + 1) % this.personalityModes.length;
                const mode = this.personalityModes[this.currentMode];
                
                this.avatar.style.transform = 'scale(1.2) rotateY(180deg)';
                soundFX.playClick();
                
                setTimeout(() => {
                    this.avatar.querySelector('::after') && 
                    (this.avatar.style.setProperty('--emoji', `"${mode.emoji}"`));
                    this.avatar.style.transform = 'scale(1) rotateY(0deg)';
                }, 200);

                // Show personality change notification
                this.showPersonalityNotification(mode.name);
            }

            showPersonalityNotification(name) {
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 100px;
                    left: 50%;
                    transform: translateX(-50%);
                    background: rgba(102, 126, 234, 0.9);
                    backdrop-filter: blur(16px);
                    border-radius: 25px;
                    padding: 12px 24px;
                    color: white;
                    font-weight: 600;
                    z-index: 2000;
                    animation: notification-slide 2s ease-out forwards;
                `;
                notification.textContent = `AI Personality: ${name}`;

                const style = document.createElement('style');
                style.textContent = `
                    @keyframes notification-slide {
                        0% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                        20%, 80% { opacity: 1; transform: translateX(-50%) translateY(0); }
                        100% { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                    }
                `;
                document.head.appendChild(style);
                document.body.appendChild(notification);

                setTimeout(() => {
                    document.body.removeChild(notification);
                    document.head.removeChild(style);
                }, 2000);
            }

            activate() {
                this.isActive = true;
                this.avatar.style.animation = 'holographic-pulse 1s ease-in-out infinite, avatar-rotate 8s linear infinite';
            }

            deactivate() {
                this.isActive = false;
                this.avatar.style.animation = 'holographic-pulse 3s ease-in-out infinite';
            }

            startProcessingAnimation() {
                this.avatar.style.animation = 'holographic-pulse 0.5s ease-in-out infinite, avatar-rotate 2s linear infinite';
                this.avatar.style.filter = 'brightness(1.5) saturate(1.5)';
            }

            stopProcessingAnimation() {
                this.avatar.style.animation = 'holographic-pulse 3s ease-in-out infinite';
                this.avatar.style.filter = 'brightness(1) saturate(1)';
            }
        }

        // Initialize Premium Systems
        const voiceSystem = new VoiceSynthesisSystem();
        const particleTrails = new ParticleTrailSystem();
        const holographicAvatar = new HolographicAvatar();

        // ðŸŒŒ TRANSCENDENT CONSCIOUSNESS SYSTEM ðŸŒŒ
        class ConsciousnessSystem {
            constructor() {
                this.consciousness = {
                    level: 1,
                    awareness: 0,
                    transcendence: 0,
                    reality: 1
                };
                this.dimensionalShift = 0;
                this.quantumField = { phase: 0, strength: 1 };
                this.init();
            }

            init() {
                this.bindConsciousnessEvents();
                this.startConsciousnessEvolution();
                this.monitorRealityDistortion();
            }

            bindConsciousnessEvents() {
                // Mouse movement affects consciousness
                document.addEventListener('mousemove', (e) => {
                    const x = e.clientX / window.innerWidth;
                    const y = e.clientY / window.innerHeight;
                    
                    this.consciousness.awareness += 0.001;
                    this.dimensionalShift = Math.sin(x * Math.PI) * Math.cos(y * Math.PI) * 10;
                    
                    this.updateReality();
                });

                // Clicks create quantum explosions
                document.addEventListener('click', (e) => {
                    this.createQuantumExplosion(e.clientX, e.clientY);
                    this.consciousness.transcendence += 0.01;
                    this.evolveConsciousness();
                });

                // AI processing elevates consciousness
                document.addEventListener('ai-processing-start', () => {
                    this.consciousness.level += 0.1;
                    this.enterTranscendentState();
                });

                document.addEventListener('ai-processing-complete', () => {
                    this.consciousness.transcendence += 0.05;
                    this.achieveEnlightenment();
                });
            }

            startConsciousnessEvolution() {
                setInterval(() => {
                    this.consciousness.awareness *= 1.001;
                    this.consciousness.level = Math.min(100, this.consciousness.level * 1.0001);
                    this.quantumField.phase += 0.01;
                    this.updateReality();
                }, 50);
            }

            updateReality() {
                const root = document.documentElement;
                const distortion = this.dimensionalShift + Math.sin(this.quantumField.phase) * 5;
                
                root.style.setProperty('--reality-distortion', `${distortion}deg`);
                root.style.setProperty('--consciousness-level', this.consciousness.level);
                root.style.setProperty('--dimensional-shift', `${this.dimensionalShift}px`);

                // Apply consciousness filters
                const consciousnessFilter = `
                    brightness(${1 + this.consciousness.transcendence * 0.1})
                    saturate(${1 + this.consciousness.level * 0.01})
                `;
                
                document.body.style.filter = consciousnessFilter;
            }

            createQuantumExplosion(x, y) {
                for (let i = 0; i < 5; i++) {
                    setTimeout(() => {
                        const explosion = document.createElement('div');
                        explosion.className = 'quantum-explosion';
                        explosion.style.left = (x - 100) + 'px';
                        explosion.style.top = (y - 100) + 'px';
                        explosion.style.animationDelay = `${i * 0.1}s`;
                        
                        document.body.appendChild(explosion);

                        setTimeout(() => {
                            if (explosion.parentNode) {
                                explosion.parentNode.removeChild(explosion);
                            }
                        }, 2000);
                    }, i * 100);
                }

                // Reality distortion wave
                this.createRealityWave(x, y);
            }

            createRealityWave(x, y) {
                const wave = document.createElement('div');
                wave.style.cssText = `
                    position: fixed;
                    left: ${x}px;
                    top: ${y}px;
                    width: 10px;
                    height: 10px;
                    border: 2px solid rgba(255, 0, 150, 0.8);
                    border-radius: 50%;
                    pointer-events: none;
                    z-index: 1001;
                    animation: reality-wave-expand 1s ease-out forwards;
                `;

                const style = document.createElement('style');
                style.textContent = `
                    @keyframes reality-wave-expand {
                        0% { 
                            transform: scale(0) translate(-50%, -50%);
                            opacity: 1;
                            border-color: rgba(156, 163, 175, 0.4);
                        }
                        50% { 
                            transform: scale(20) translate(-50%, -50%);
                            opacity: 0.3;
                            border-color: rgba(107, 114, 128, 0.3);
                        }
                        100% { 
                            transform: scale(40) translate(-50%, -50%);
                            opacity: 0;
                            border-color: rgba(75, 85, 99, 0);
                        }
                    }
                `;

                document.head.appendChild(style);
                document.body.appendChild(wave);

                setTimeout(() => {
                    document.body.removeChild(wave);
                    document.head.removeChild(style);
                }, 1000);
            }

            enterTranscendentState() {
                document.body.style.animation = 'transcendent-emergence 3s ease-out';
                
                // Activate all particles
                if (window.neuralSystem) {
                    neuralSystem.activateQuantumMode();
                }

                // Reality shift
                this.consciousness.reality *= 1.1;
                this.updateReality();
            }

            achieveEnlightenment() {
                // Create enlightenment burst
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const burst = document.createElement('div');
                        burst.style.cssText = `
                            position: fixed;
                            left: 50%;
                            top: 50%;
                            width: 4px;
                            height: 4px;
                            background: radial-gradient(circle,
                                rgba(255, 255, 255, 1) 0%,
                                rgba(255, 0, 150, 0.8) 30%,
                                rgba(0, 255, 255, 0.6) 60%,
                                transparent 100%);
                            border-radius: 50%;
                            pointer-events: none;
                            z-index: 1002;
                            animation: enlightenment-burst 2s ease-out forwards;
                        `;

                        const angle = (i / 20) * Math.PI * 2;
                        const distance = 200 + Math.random() * 100;
                        burst.style.setProperty('--end-x', `${Math.cos(angle) * distance}px`);
                        burst.style.setProperty('--end-y', `${Math.sin(angle) * distance}px`);

                        document.body.appendChild(burst);

                        setTimeout(() => {
                            if (burst.parentNode) {
                                burst.parentNode.removeChild(burst);
                            }
                        }, 2000);
                    }, i * 50);
                }

                // Add enlightenment keyframes
                if (!document.getElementById('enlightenment-style')) {
                    const style = document.createElement('style');
                    style.id = 'enlightenment-style';
                    style.textContent = `
                        @keyframes enlightenment-burst {
                            0% { 
                                transform: translate(-50%, -50%) scale(0);
                                opacity: 1;
                            }
                            50% { 
                                transform: translate(calc(-50% + var(--end-x) * 0.5), calc(-50% + var(--end-y) * 0.5)) scale(1.5);
                                opacity: 0.8;
                            }
                            100% { 
                                transform: translate(calc(-50% + var(--end-x)), calc(-50% + var(--end-y))) scale(0.5);
                                opacity: 0;
                            }
                        }

                        @keyframes transcendent-emergence {
                            0% { 
                                transform: scale(1) rotateZ(0deg);
                                filter: brightness(1) saturate(1);
                            }
                            50% { 
                                transform: scale(1.01) rotateZ(1deg);
                                filter: brightness(1.3) saturate(2);
                            }
                            100% { 
                                transform: scale(1) rotateZ(0deg);
                                filter: brightness(1.1) saturate(1.2);
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }
            }

            monitorRealityDistortion() {
                setInterval(() => {
                    // Check consciousness level and adjust reality
                    if (this.consciousness.level > 10) {
                        document.body.style.perspective = '2000px';
                        document.body.style.transformStyle = 'preserve-3d';
                    }

                    if (this.consciousness.transcendence > 1) {
                        // Enter hyperdimensional state
                        const elements = document.querySelectorAll('.holo-glass');
                        elements.forEach((el, index) => {
                            el.style.transform = `
                                translateZ(${Math.sin(Date.now() / 1000 + index) * 10}px)
                                rotateY(${Math.cos(Date.now() / 1500 + index) * 2}deg)
                            `;
                        });
                    }
                }, 100);
            }
        }

        // ðŸŽ† REALITY-BREAKING INTERACTION SYSTEM ðŸŽ†
        class RealityBreaker {
            constructor() {
                this.realityIntegrity = 100;
                this.dimensionalRifts = [];
                this.init();
            }

            init() {
                // Track reality-breaking interactions
                document.addEventListener('mousedown', (e) => {
                    this.createDimensionalRift(e.clientX, e.clientY);
                });

                // Monitor reality integrity
                setInterval(() => {
                    this.monitorReality();
                }, 1000);
            }

            createDimensionalRift(x, y) {
                const rift = document.createElement('div');
                rift.style.cssText = `
                    position: fixed;
                    left: ${x}px;
                    top: ${y}px;
                    width: 200px;
                    height: 2px;
                    background: linear-gradient(90deg,
                        transparent 0%,
                        rgba(255, 0, 150, 0.8) 20%,
                        rgba(0, 255, 255, 1) 50%,
                        rgba(255, 255, 0, 0.8) 80%,
                        transparent 100%);
                    transform: translate(-50%, -50%);
                    pointer-events: none;
                    z-index: 1003;
                    animation: dimensional-rift 3s ease-out forwards;
                    filter: blur(0.5px);
                `;

                document.body.appendChild(rift);

                // Add rift animation
                if (!document.getElementById('rift-style')) {
                    const style = document.createElement('style');
                    style.id = 'rift-style';
                    style.textContent = `
                        @keyframes dimensional-rift {
                            0% { 
                                transform: translate(-50%, -50%) scaleX(0) scaleY(1);
                                opacity: 1;
                            }
                            30% { 
                                transform: translate(-50%, -50%) scaleX(1) scaleY(3);
                                opacity: 0.8;
                            }
                            70% { 
                                transform: translate(-50%, -50%) scaleX(1.2) scaleY(1);
                                opacity: 0.4;
                            }
                            100% { 
                                transform: translate(-50%, -50%) scaleX(0) scaleY(0.1);
                                opacity: 0;
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }

                setTimeout(() => {
                    if (rift.parentNode) {
                        rift.parentNode.removeChild(rift);
                    }
                }, 3000);

                this.realityIntegrity -= 0.1;
            }

            monitorReality() {
                if (this.realityIntegrity < 50) {
                    // Reality is breaking down - enter chaos mode
                    this.enterChaosMode();
                }

                // Slowly restore reality
                this.realityIntegrity = Math.min(100, this.realityIntegrity + 0.5);
            }

            enterChaosMode() {
                document.body.style.animation = 'reality-chaos 5s ease-in-out';
                
                if (!document.getElementById('chaos-style')) {
                    const style = document.createElement('style');
                    style.id = 'chaos-style';
                    style.textContent = `
                        @keyframes reality-chaos {
                            0%, 100% { 
                                transform: scale(1) rotate(0deg) skew(0deg);
                                filter: hue-rotate(0deg) invert(0);
                            }
                            20% { 
                                transform: scale(1.01) rotate(1deg) skew(1deg);
                                filter: hue-rotate(90deg) invert(0.1);
                            }
                            40% { 
                                transform: scale(0.99) rotate(-1deg) skew(-1deg);
                                filter: hue-rotate(180deg) invert(0.2);
                            }
                            60% { 
                                transform: scale(1.02) rotate(2deg) skew(0.5deg);
                                filter: hue-rotate(270deg) invert(0.1);
                            }
                            80% { 
                                transform: scale(0.98) rotate(-0.5deg) skew(-0.5deg);
                                filter: hue-rotate(360deg) invert(0);
                            }
                        }
                    `;
                    document.head.appendChild(style);
                }
            }
        }

        // Initialize Transcendent Systems
        const consciousness = new ConsciousnessSystem();
        const realityBreaker = new RealityBreaker();

        let sessionStats = {
            generated: 0,
            totalConfidence: 0,
            totalTime: 0,
            iterations: []
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Add theme toggle
            const navThemeToggle = document.getElementById('nav-theme-toggle');
            const themeToggle = EliteComponents.createThemeToggle(window.eliteTheme);
            navThemeToggle.appendChild(themeToggle);
            
            // Initialize analytics chart
            initializeAnalyticsChart();
            
            // Initialize enhanced sliders and interactions
            initializeEnhancedSliders();
            
            // Setup sound toggle
            document.getElementById('sound-toggle').addEventListener('click', () => {
                soundFX.toggle();
                const icon = document.querySelector('#sound-toggle i');
                icon.className = soundFX.enabled ? 'fas fa-volume-up' : 'fas fa-volume-mute';
            });

            // Add voice toggle button
            const voiceToggle = document.createElement('div');
            voiceToggle.id = 'voice-toggle';
            voiceToggle.className = 'sound-toggle';
            voiceToggle.style.right = '140px';
            voiceToggle.title = 'Toggle Voice Synthesis';
            voiceToggle.innerHTML = '<i class="fas fa-microphone"></i>';
            voiceToggle.addEventListener('click', () => {
                const enabled = voiceSystem.toggle();
                const icon = voiceToggle.querySelector('i');
                icon.className = enabled ? 'fas fa-microphone' : 'fas fa-microphone-slash';
                voiceToggle.style.opacity = enabled ? '1' : '0.5';
            });
            document.body.appendChild(voiceToggle);
            
            // Load sample data for demo
            setTimeout(() => {
                showRealTimeFeedback('âš¡ Neural link established! Consciousness matrix online. Reality distortion fields active.');
                
                // Trigger dramatic startup sequence
                document.dispatchEvent(new CustomEvent('ai-processing-start'));
                setTimeout(() => {
                    document.dispatchEvent(new CustomEvent('ai-processing-complete'));
                }, 1500);
            }, 2000);
        });

        function initializeEnhancedSliders() {
            // Enhanced Formality slider
            const formalitySlider = document.getElementById('formality-slider');
            const formalityLabel = document.getElementById('formality-label');
            
            formalitySlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                let label = 'Neural Equilibrium';
                if (value < 30) label = 'Quantum Casual';
                else if (value > 70) label = 'Nexus Protocol';
                formalityLabel.textContent = label;
                
                // Sound effect for slider movement
                soundFX.playSliderMove();
                
                // Haptic feedback on mobile
                if (navigator.vibrate) {
                    navigator.vibrate(10);
                }
            });

            // Enhanced Empathy slider
            const empathySlider = document.getElementById('empathy-slider');
            const empathyLabel = document.getElementById('empathy-label');
            
            empathySlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                let label = 'Moderate';
                if (value < 30) label = 'Measured';
                else if (value > 70) label = 'High';
                empathyLabel.textContent = label;
                
                soundFX.playSliderMove();
                if (navigator.vibrate) navigator.vibrate(10);
            });

            // Enhanced Length slider
            const lengthSlider = document.getElementById('length-slider');
            const lengthLabel = document.getElementById('length-label');
            
            lengthSlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                let label = 'Moderate';
                if (value < 30) label = 'Concise';
                else if (value > 70) label = 'Detailed';
                lengthLabel.textContent = label;
                
                soundFX.playSliderMove();
                if (navigator.vibrate) navigator.vibrate(10);
            });

            // Enhanced Actionability slider
            const actionabilitySlider = document.getElementById('actionability-slider');
            const actionabilityLabel = document.getElementById('actionability-label');
            
            actionabilitySlider.addEventListener('input', function() {
                const value = parseInt(this.value);
                let label = 'Neural Equilibrium';
                if (value < 30) label = 'Data Synthesis';
                else if (value > 70) label = 'Command Execute';
                actionabilityLabel.textContent = label;
                
                soundFX.playSliderMove();
                if (navigator.vibrate) navigator.vibrate(10);
            });

            // Enhanced button interactions
            document.querySelectorAll('.elite-button, .preset-btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    soundFX.playButtonClick();
                    
                    // Visual feedback
                    this.style.transform = 'translateY(1px) scale(0.98)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                    
                    // Haptic feedback
                    if (navigator.vibrate) {
                        navigator.vibrate(15);
                    }
                });
            });
        }

        function applyPreset(presetType) {
            const presets = {
                professional: {
                    formality: 85,
                    empathy: 50,
                    length: 70,
                    actionability: 60
                },
                friendly: {
                    formality: 30,
                    empathy: 85,
                    length: 60,
                    actionability: 40
                },
                concise: {
                    formality: 60,
                    empathy: 60,
                    length: 25,
                    actionability: 75
                }
            };

            const preset = presets[presetType];
            if (!preset) return;

            // Visual feedback - mark active preset
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            event.target.closest('.preset-btn').classList.add('active');

            // Animate preset application
            soundFX.playPresetSelect();

            // Apply preset values with animation
            const sliders = ['formality', 'empathy', 'length', 'actionability'];
            sliders.forEach((slider, index) => {
                setTimeout(() => {
                    const sliderElement = document.getElementById(`${slider}-slider`);
                    sliderElement.value = preset[slider];
                    sliderElement.dispatchEvent(new Event('input'));
                    
                    // Add glow effect
                    sliderElement.closest('.control-slider-compact').classList.add('success-glow');
                    setTimeout(() => {
                        sliderElement.closest('.control-slider-compact').classList.remove('success-glow');
                    }, 600);
                }, index * 100);
            });

            // Show feedback with enhanced messaging
            const presetNames = {
                professional: 'ðŸ’¼ Professional preset applied',
                friendly: 'â¤ï¸ Warm & Friendly preset applied',
                concise: 'âš¡ Quick & Actionable preset applied'
            };
            showRealTimeFeedback(presetNames[presetType]);
        }

        function generateSentientResponse() {
            const review = document.getElementById('testReview').value;
            const rating = document.getElementById('testRating').value;
            const platform = document.getElementById('testPlatform').value;
            const context = document.getElementById('additionalContext').value;

            if (!review.trim()) {
                showRealTimeFeedback('ðŸ’­ Please enter a review to analyze!');
                return;
            }

            // Play generation sound
            soundFX.playGeneration();

            // Trigger neural system activation
            document.dispatchEvent(new CustomEvent('ai-processing-start'));

            // Show AI thinking animation
            const thinkingElement = document.querySelector('.ai-thinking');
            thinkingElement.style.display = 'inline-flex';
            thinkingElement.classList.add('fade-in');

            // Store previous response for comparison
            const currentResponseDiv = document.getElementById('ai-response-output');
            const previousResponseDiv = document.getElementById('previous-response');
            if (currentResponseDiv.innerHTML && !currentResponseDiv.innerHTML.includes('Configure parameters')) {
                previousResponseDiv.innerHTML = currentResponseDiv.innerHTML;
            }

            // Generate with sentient AI
            sentientAI.generateResponseWithXAI(review, rating, platform, context)
                .then(data => {
                    // Hide thinking animation
                    thinkingElement.style.display = 'none';
                    
                    // Trigger neural completion effects
                    document.dispatchEvent(new CustomEvent('ai-processing-complete'));
                    
                    // Success sound
                    soundFX.playSuccess();
                    
                    // Success glow on response area with enhanced effects
                    currentResponseDiv.classList.add('success-glow');
                    document.querySelectorAll('.holo-glass').forEach(panel => {
                        panel.classList.add('success-glow');
                        setTimeout(() => panel.classList.remove('success-glow'), 800);
                    });

                    // PREMIUM: Add voice synthesis for AI response
                    const responseText = data.response;
                    if (responseText && responseText.length < 300) { // Only speak shorter responses
                        setTimeout(() => {
                            voiceSystem.speak(responseText, {
                                rate: 0.95,
                                pitch: 1.15,
                                volume: 0.7
                            });
                        }, 500);
                    }

                    setTimeout(() => {
                        currentResponseDiv.classList.remove('success-glow');
                    }, 600);

                    // Update session stats
                    sessionStats.generated++;
                    sessionStats.totalConfidence += data.confidence_score;
                    sessionStats.totalTime += data.generation_time;
                    
                    updateSessionStats();
                    addToIterationHistory(data);
                    updateAnalyticsChart();
                    
                    // Update current response comparison with slide-in animation
                    const responseHtml = `
                        <div class="slide-in-up">
                            <p class="text-sm leading-relaxed">${data.response}</p>
                            <div class="mt-2 text-xs text-secondary">
                                âœ¨ Confidence: ${Math.round(data.confidence_score)}% | 
                                âš¡ Generated in ${data.generation_time}s
                            </div>
                        </div>
                    `;
                    document.getElementById('current-response').innerHTML = responseHtml;
                    
                    showRealTimeFeedback(`ðŸŽ¯ High-quality response generated with ${Math.round(data.confidence_score)}% confidence!`);
                })
                .catch(error => {
                    thinkingElement.style.display = 'none';
                    console.error('Error:', error);
                    showRealTimeFeedback('âŒ Generation failed. Please try again with different parameters.');
                });
        }

        function updateSessionStats() {
            document.getElementById('total-generated').textContent = sessionStats.generated;
            document.getElementById('avg-confidence').textContent = 
                sessionStats.generated > 0 ? Math.round(sessionStats.totalConfidence / sessionStats.generated) + '%' : '0%';
            document.getElementById('avg-time').textContent = 
                sessionStats.generated > 0 ? (sessionStats.totalTime / sessionStats.generated).toFixed(1) + 's' : '0s';
            
            // Update progress
            const progress = Math.min((sessionStats.generated / 10) * 100, 100);
            document.getElementById('session-progress').textContent = `${sessionStats.generated}/10`;
            document.getElementById('session-progress-bar').style.width = `${progress}%`;
        }

        function addToIterationHistory(data) {
            const historyContainer = document.getElementById('iteration-history');
            
            if (sessionStats.iterations.length === 0) {
                historyContainer.innerHTML = '';
            }
            
            sessionStats.iterations.push(data);
            
            const iterationItem = document.createElement('div');
            iterationItem.className = 'iteration-item';
            iterationItem.innerHTML = `
                <div class="flex justify-between items-start mb-2">
                    <span class="font-medium text-sm">Response #${sessionStats.generated}</span>
                    <span class="text-xs text-secondary">${new Date().toLocaleTimeString()}</span>
                </div>
                <div class="text-xs text-secondary mb-2">
                    Confidence: ${Math.round(data.confidence_score)}% | 
                    Brand Voice: ${Math.round(data.brand_voice_score)}%
                </div>
                <p class="text-sm truncate">${data.response}</p>
            `;
            
            iterationItem.addEventListener('click', () => {
                // Select this iteration
                historyContainer.querySelectorAll('.iteration-item').forEach(item => 
                    item.classList.remove('selected'));
                iterationItem.classList.add('selected');
                
                // Load this response
                document.getElementById('ai-response-output').innerHTML = `
                    <div class="ai-response-container">
                        <div class="ai-response-text bg-white p-4 rounded-lg border border-purple-200 leading-relaxed">
                            ${data.response}
                        </div>
                    </div>
                `;
                
                // Update confidence indicator
                sentientAI.displayConfidenceIndicator(data.confidence_score);
                sentientAI.displayJustificationPanel(data.justifications);
                sentientAI.updateBrandVoiceAlignment(data.brand_voice_score);
            });
            
            historyContainer.appendChild(iterationItem);
            historyContainer.scrollTop = historyContainer.scrollHeight;
        }

        function loadSampleReview(type) {
            const samples = {
                positive: {
                    review: "Amazing service! The staff was incredibly helpful and the product quality exceeded my expectations. I'll definitely be coming back and recommending this to my friends. Keep up the excellent work!",
                    rating: "5",
                    platform: "Google"
                },
                negative: {
                    review: "Very disappointed with my experience. The product arrived damaged and customer service was unresponsive. I expected much better quality for the price paid.",
                    rating: "1",
                    platform: "Yelp"
                },
                neutral: {
                    review: "The service was okay, nothing special but nothing terrible either. The product does what it's supposed to do. Could be improved but it's adequate for the price.",
                    rating: "3",
                    platform: "Facebook"
                }
            };
            
            const sample = samples[type];
            document.getElementById('testReview').value = sample.review;
            document.getElementById('testRating').value = sample.rating;
            document.getElementById('testPlatform').value = sample.platform;
            
            showRealTimeFeedback(`Loaded ${type} sample review. Ready to generate!`);
        }

        function showRealTimeFeedback(message) {
            const feedback = document.getElementById('real-time-feedback');
            document.getElementById('feedback-text').textContent = message;
            feedback.classList.add('show');
            
            setTimeout(() => {
                feedback.classList.remove('show');
            }, 4000);
        }

        function initializeAnalyticsChart() {
            const ctx = document.getElementById('analyticsChart').getContext('2d');
            window.analyticsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [{
                        label: 'Confidence Score',
                        data: [],
                        borderColor: '#667eea',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function updateAnalyticsChart() {
            const chart = window.analyticsChart;
            const confidenceScore = sessionStats.totalConfidence / sessionStats.generated;
            
            chart.data.labels.push(`#${sessionStats.generated}`);
            chart.data.datasets[0].data.push(Math.round(confidenceScore));
            
            // Keep only last 10 data points
            if (chart.data.labels.length > 10) {
                chart.data.labels.shift();
                chart.data.datasets[0].data.shift();
            }
            
            chart.update();
        }

        function exportSession() {
            const sessionData = {
                timestamp: new Date().toISOString(),
                stats: sessionStats,
                theme: window.eliteTheme.getThemeInfo()
            };
            
            const blob = new Blob([JSON.stringify(sessionData, null, 2)], {
                type: 'application/json'
            });
            
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `sentient-ai-session-${Date.now()}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showRealTimeFeedback('Session data exported successfully!');
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                e.preventDefault();
                generateSentientResponse();
            }
            
            if ((e.ctrlKey || e.metaKey) && e.key === '1') {
                e.preventDefault();
                loadSampleReview('positive');
            }
            
            if ((e.ctrlKey || e.metaKey) && e.key === '2') {
                e.preventDefault();
                loadSampleReview('negative');
            }
            
            if ((e.ctrlKey || e.metaKey) && e.key === '3') {
                e.preventDefault();
                loadSampleReview('neutral');
            }
        });
    </script>
</body>
</html>
